{% extends "base.html" %}
{% block content %}

<h2 class="mb-3">All Appointments</h2>

{% if appointments %}
<table class="table table-bordered table-striped">
<tr>
  <th>Doctor</th>
  <th>Patient</th>
  <th>Slot</th>
  <th>Notes</th>
  <th>Action</th>
</tr>

{% for a in appointments %}
<tr>
  <td>{{ doctors[a.doctor_id].name }}</td>
  <td>{{ patients[a.patient_id].name }}</td>
  <td>{{ a.slot }}</td>
  <td>{{ a.notes or "-" }}</td>
  <td>
    <!-- âœ… confirm added, route SAME -->
    <a href="/appointments/cancel/{{ a.id }}"
       class="btn btn-danger btn-sm"
       onclick="return confirmCancel();">
      Cancel
    </a>
  </td>
</tr>
{% endfor %}
</table>
{% else %}
<p>No appointments yet.</p>
{% endif %}

{% endblock %}
